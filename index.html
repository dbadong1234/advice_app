<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width", initial-scale=1.0">
        <link rel="stylesheet" href="app.css">
        <title>Advice Chat</title>
    </head>

    <body>
    <div>
        <header class="main-head">
            <h1>Advice Chat</h1>
            <h3 style="font-style: italic;"><span>advice for life</span></h3>
        </header>
            
        <article class="content">
            <h2>Here's some advice...</h2>
            <p id="advice"></p>
            <a href="#" id="tweet-button" target="_blank"><button style="background-color: #C44900; border-radius: 2.5px; height: 20px; width: 60px;">Tweet</button></a>
        </article>

        <aside class="side">
            <h2>This advice is awesome because...</h2>
            <h3> it is unique.</h3>
            <p> You will get different advice every time you refresh the page.</p>
            <h3> it is easy to use. </h3>
            <p> Seriously, all you have to do is visit this page. </p>
            <h3> you can easily share advice. </h3>
            <p> Just click the tweet button to share to your Twitter followers. </p>
        </aside>

        <footer class="main-footer">
            <p>Powered by freeCodeCamp-Chicago and #TeamLazyCoffee</p>
        </footer>
    </div>
        <p id="advice"></p>
        <script>
            "use strict";

            fetch('https://api.adviceslip.com/advice')
            .then((response) => {
                console.log('Response: ', response);
                return response.json();
                })

            .then((data) => {
                const tweetURL = "https://twitter.com/intent/tweet?text=";
                const adviceText = data.slip.advice; 
                const adviceElement = document.getElementById("advice");
                const tweetButton = document.getElementById("tweet-button");

                adviceElement.innerText = adviceText;
                tweetButton.attributes.href.value = tweetURL + encodeURIComponent(`"${adviceText}"`) + "-Advice Chat";
                console.log('API JSON Data', data);
                console.log('Advice: ', adviceText);
            });
            console.log('Hello!');
        </script>
    </body>
</html>